(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{22:function(t,e,r){"use strict";r.r(e);var n=r(114),s=r.n(n),o=function(t,e){return e=e||{},new Promise((function(r,n){var s=new XMLHttpRequest,o=[],a=[],i={},u=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,r){o.push(e=e.toLowerCase()),a.push([e,r]),i[e]=i[e]?i[e]+","+r:r})),r(u())},s.onerror=n,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))},a=r(109),i=r(110),u=r(111),c=r(112),l=r(113);function d(t,e,r,n,s,o,a){try{var i=t[o](a),u=i.value}catch(c){return void r(c)}i.done?e(u):Promise.resolve(u).then(n,s)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var o=t.apply(e,r);function a(t){d(o,n,s,a,i,"next",t)}function i(t){d(o,n,s,a,i,"throw",t)}a(void 0)}))}}var p=function(t){return new Promise((function(e){return setTimeout(e,t)}))},v={components:{factorLogo:function(){return r.e(1).then(r.bind(null,253))},factorSpinner:function(){return r.e(7).then(r.bind(null,255))}},mixins:[a.a,i.a,u.a,c.a],data:function(){return{error:!1,stack:!1,allDone:!1,hasErrors:!1,isFinished:!1,maxReloadCount:5,preventReload:!1,manualReload:!1,baseURL:window.$BASE_URL,nodeEnv:window.$NODE_ENV,progress:0,message:"",build:""}},computed:{progressText:function(){var t=this.progress?"".concat(Math.round(this.progress),"%"):"";return"".concat(this.cap(this.message)," ").concat(t)},building:function(){return"bundle"==this.build?"Building Application":"Setting Up Environment"}},watch:{building:function(t){document&&(document.title="development"==this.nodeEnv&&t?t:"Under Maintenance")}},beforeMount:function(){this.canReload()||(this.preventReload=!0)},mounted:function(){!this.preventReload&&this.baseURL&&(this.onData(window.$STATE),this.sseConnect("".concat(this.baseURL,"_loading/sse")),this.setTimeout())},methods:{cap:function(t){return t?t.replace(/\b\w/g,(function(t){return t.toUpperCase()})):""},onSseData:function(t){this._reloading||(this.setTimeout(),this.onData(t))},fetchData:function(){var t=this;return h(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._reloading){e.next=2;break}return e.abrupt("return");case 2:return t.clearTimeout(),e.prev=3,e.next=6,o("".concat(t.baseURL,"_loading/json")).then((function(t){return t.json()}));case 6:r=e.sent,t.onData(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.logError(e.t0);case 13:t.setTimeout();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this._fetchTimeout&&clearTimeout(this._fetchTimeout)})),setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this._reloading||(this.clearTimeout(),this._fetchTimeout=setTimeout((function(){return t.fetchData()}),1e3))})),onData:function(t){if(t&&!this._reloading){if(t.settings&&(window.$STATE.settings=t.settings),t.redirect&&!this.$route.path.includes(t.redirect))return this.$router.replace({path:t.redirect}),delete window.$STATE.redirect,void Object(l.a)({redirected:!0});var e=t.error,r=t.progress,n=t.message,s=t.hasErrors,o=t.allDone,a=t.build;if(e){var i=e.description,u=e.stack;return this.errorDescription=i,this.errorStack=u,void(this.hasErrors=!0)}s||!o||this.allDone||this.reload(),this.allDone=o,this.hasErrors=s,this.progress=r,this.message=n,this.build=a}},canReload:function(){this.reloadCount=Number.parseInt(this.retrieveItem("reloadCount"))||0;var t=Number.parseInt(this.retrieveItem("lastReloadTime"))||0;this.loadingTime=(new Date).getTime();var e=this.reloadCount<this.maxReloadCount,r=t&&this.loadingTime>1e3+t;return!(!e||r)||(this.removeItem("reloadCount"),this.removeItem("lastReloadTime"),this.reloadCount=0,e)},updateReloadItems:function(){this.storeItem("reloadCount",1+this.reloadCount),this.storeItem("lastReloadTime",this.loadingTime)},reload:function(){var t=this;return h(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._reloading){e.next=2;break}return e.abrupt("return");case 2:return t._reloading=!0,t.clearTimeout(),t.sseClose(),t.clearConsole(),e.next=8,p(500);case 8:t.updateReloadItems(),window.location.reload(!0);case 10:case"end":return e.stop()}}),e)})))()}}},f=(r(238),r(10)),m=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loading-screen",class:{hide:t.allDone&&!t.preventReload}},[r("div",{staticClass:"factor-logo-area"},[r("transition",{attrs:{appear:""}},["production"==t.nodeEnv?r("factor-spinner",{attrs:{show:!0}}):r("factor-logo")],1)],1),t._v(" "),"production"==t.nodeEnv?r("div",{},[t._m(0)]):r("div",{staticClass:"loading-area"},[t.hasErrors&&!t.errorDescription?r("div",{staticClass:"error-item"},[r("h3",{staticClass:"hasErrors"},[t._v("An error occured, please look at Factor terminal.")])]):t.hasErrors&&t.errorDescription?r("div",{staticClass:"error-item"},[r("h3",{staticClass:"hasErrors"},[t._v("An error occured, see output below or in your terminal.")]),t._v(" "),r("div",{staticClass:"errorStack"},[r("p",{staticClass:"hasErrors"},[t._v(t._s(t.errorDescription))]),t._v(" "),t.errorStack?r("p",{staticClass:"pre"},[t._v(t._s(t.errorStack))]):t._e()]),t._v(" "),t._m(1)]):t.preventReload?r("div",{staticClass:"reload-prevented error-item"},[r("h3",{staticClass:"hasErrors"},[t._v("Failed to show Factor app after "+t._s(t.maxReloadCount)+" reloads")]),t._v(" "),r("p",[t._v("\n        Your Factor app could not be shown even though the webpack build appears to have\n        finished.\n      ")]),t._v(" "),r("p",[t._v("\n        Try to reload the page manually, if this problem persists try to restart your\n        Factor dev server.\n      ")])]):[r("transition",{attrs:{appear:""}},[r("div",{staticClass:"row progress-bar-wrap",class:t.build},[r("div",{staticClass:"progress-title"},[t._v(t._s(t.building))]),t._v(" "),r("div",{staticClass:"progress-bar-container"},[r("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}},[r("div",{staticClass:"barber"})])]),t._v(" "),r("div",{staticClass:"progress-message"},[t._v(t._s(t.progressText))])])])]],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"under-maintenance"},[e("h3",{staticClass:"title"},[this._v("Under Maintenance")]),this._v(" "),e("div",{staticClass:"sub-title"},[this._v("We'll be right back.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"hasErrors"},[this._v("Note:")]),this._v(" A manual restart of the Factor dev server\n        may be required\n      ")])}],!1,null,null,null);e.default=m.exports},238:function(t,e,r){"use strict";var n=r(64);r.n(n).a},64:function(t,e,r){}}]);